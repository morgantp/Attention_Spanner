{{#if postsExist}}
{{#each posts}}
<a data-toggle="collapse" href="#collapse{{this._id}}">
    <div class="postContainer">
        <span class="title"><b>{{this.title}}</b></span><br>
</a>
        <div class="collapse" id="collapse{{this._id}}">
            <p>{{this.body}}</p>   
        </div>
        <p id="name">Posted By {{this.username}}</p>
        <p id="date">{{this.date}}</p><br>
        <button class="likesButton" id="{{this._id}}" href="/likes/{{this._id}}">Like</button>
        <span class="likeCounter">{{this.likes.length}}</span>
    </div>
{{/each}}
{{/if}}


<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"
    integrity="sha256-bd8XIKzrtyJ1O5Sh3Xp3GiuMIzWC42ZekvrMMD4GxRg=" crossorigin="anonymous"></script>
<script>
    const likesButtons = document.querySelectorAll('.likesButton');
    likesButtons.forEach(likeButton => {
        likeButton.addEventListener('click', () => {
            axios.post(`/likes/${likeButton.id}`);
            location.reload();
        });
    });
</script>